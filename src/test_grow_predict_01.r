setwd("~/ParallelDecisionTree/src/")

dyn.load("~/ParallelDecisionTree/src/grow_predict_rwrapper.dll")
is.loaded("grow_predict_rwrapper")

n = 100
p = 3

datamat = matrix( c(
   0.01000,       0.01000,      0,
   0.01000,       0.02000,      0,
   0.01000,       0.03000,      0,
   0.01000,       0.04000,      1,
   0.01000,       0.05000,      1,
   0.01000,       0.06000,      1,
   0.01000,       0.07000,      1,
   0.01000,       0.08000,      1,
   0.01000,       0.09000,      1,
   0.01000,       0.10000,      1,
   0.02000,       0.01000,      0,
   0.02000,       0.02000,      0,
   0.02000,       0.03000,      0,
   0.02000,       0.04000,      1,
   0.02000,       0.05000,      1,
   0.02000,       0.06000,      1,
   0.02000,       0.07000,      1,
   0.02000,       0.08000,      1,
   0.02000,       0.09000,      1,
   0.02000,       0.10000,      1,
   0.03000,       0.01000,      0,
   0.03000,       0.02000,      0,
   0.03000,       0.03000,      0,
   0.03000,       0.04000,      1,
   0.03000,       0.05000,      1,
   0.03000,       0.06000,      1,
   0.03000,       0.07000,      1,
   0.03000,       0.08000,      1,
   0.03000,       0.09000,      1,
   0.03000,       0.10000,      1,
   0.04000,       0.01000,      0,
   0.04000,       0.02000,      0,
   0.04000,       0.03000,      0,
   0.04000,       0.04000,      1,
   0.04000,       0.05000,      1,
   0.04000,       0.06000,      1,
   0.04000,       0.07000,      1,
   0.04000,       0.08000,      1,
   0.04000,       0.09000,      1,
   0.04000,       0.10000,      1,
   0.05000,       0.01000,      0,
   0.05000,       0.02000,      0,
   0.05000,       0.03000,      0,
   0.05000,       0.04000,      1,
   0.05000,       0.05000,      1,
   0.05000,       0.06000,      1,
   0.05000,       0.07000,      1,
   0.05000,       0.08000,      1,
   0.05000,       0.09000,      1,
   0.05000,       0.10000,      1,
   0.06000,       0.01000,      1,
   0.06000,       0.02000,      1,
   0.06000,       0.03000,      0,
   0.06000,       0.04000,      1,
   0.06000,       0.05000,      1,
   0.06000,       0.06000,      1,
   0.06000,       0.07000,      1,
   0.06000,       0.08000,      1,
   0.06000,       0.09000,      1,
   0.06000,       0.10000,      1,
   0.07000,       0.01000,      1,
   0.07000,       0.02000,      1,
   0.07000,       0.03000,      1,
   0.07000,       0.04000,      1,
   0.07000,       0.05000,      1,
   0.07000,       0.06000,      1,
   0.07000,       0.07000,      1,
   0.07000,       0.08000,      1,
   0.07000,       0.09000,      1,
   0.07000,       0.10000,      1,
   0.08000,       0.01000,      1,
   0.08000,       0.02000,      1,
   0.08000,       0.03000,      1,
   0.08000,       0.04000,      1,
   0.08000,       0.05000,      1,
   0.08000,       0.06000,      1,
   0.08000,       0.07000,      1,
   0.08000,       0.08000,      1,
   0.08000,       0.09000,      1,
   0.08000,       0.10000,      1,
   0.09000,       0.01000,      1,
   0.09000,       0.02000,      1,
   0.09000,       0.03000,      1,
   0.09000,       0.04000,      1,
   0.09000,       0.05000,      1,
   0.09000,       0.06000,      1,
   0.09000,       0.07000,      1,
   0.09000,       0.08000,      1,
   0.09000,       0.09000,      1,
   0.09000,       0.10000,      1,
   0.10000,       0.01000,      1,
   0.10000,       0.02000,      1,
   0.10000,       0.03000,      1,
   0.10000,       0.04000,      1,
   0.10000,       0.05000,      1,
   0.10000,       0.06000,      1,
   0.10000,       0.07000,      1,
   0.10000,       0.08000,      1,
   0.10000,       0.09000,      1,
   0.10000,       0.10000,      1
   ), nrow=n, ncol=p, byrow=TRUE)

xtrain = datamat[,c(1,2)]
ytrain = datamat[,3]


# TODO: make sure that xtrain and xtest are DOUBLE matrices

ret = .Fortran("grow_predict_rwrapper",as.integer(n),as.integer(p),as.matrix(xtrain),as.integer(ytrain),as.matrix(xtrain),ytesthat=integer(n))
ret

